<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Markiva - Frequently Asked Questions</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Bootstrap Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
  />
  <!-- Animate.css (for subtle animations) -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"
  />
  <!-- Optional site-wide CSS -->
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Internal styles for dark-themed FAQ with green accents -->
  <style>
    /* General dark theme */
    body {
      background-color: #121212;
      color: #f1f1f1;
    }

    /* ----- HERO SECTION ----- */
    .faq-hero {
      background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
        url("assets/faq-hero-bg.jpg") center/cover no-repeat;
      color: #f8f9fa;
      padding: 5rem 0;
      text-align: center;
      position: relative;
    }
    .faq-hero h1 {
      font-weight: 700;
      margin-bottom: 1rem;
    }
    .faq-hero p {
      color: #ccc;
      max-width: 650px;
      margin: 0 auto;
      font-size: 1.1rem;
    }

    /* ----- VANTA WAVES ----- */
    #vantaWavesFaq {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    .faq-hero .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      z-index: 2;
    }
    .faq-hero .container {
      position: relative;
      z-index: 3;
    }

    /* ----- SEARCH BAR & EXPAND/COLLAPSE CONTROLS ----- */
    .faq-search-bar {
      margin-bottom: 3rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }
    .faq-search-bar .input-group {
      max-width: 600px;
      width: 100%;
    }
    .faq-search-bar input {
      border: 2px solid #28a745;
      border-right: none;
      border-radius: 0.375rem 0 0 0.375rem;
      background-color: #222;
      color: #fff !important; /* Force light text */
    }
    .faq-search-bar input::placeholder {
      color: #ccc; /* Light placeholder text */
    }
    .faq-search-bar input:focus {
      background-color: #303030 !important; /* Slightly lighter dark shade on focus */
      color: #fff !important; /* Ensure text remains light on focus */
      box-shadow: none;
      outline: none;
      border-color: #28a745;
    }
    .faq-search-bar button.search-btn {
      border: 2px solid #28a745;
      border-left: none;
      color: #fff;
      background-color: #28a745;
      border-radius: 0 0.375rem 0.375rem 0;
    }
    .faq-search-bar .expand-collapse-btns button {
      border: 2px solid #28a745;
      color: #fff;
      background-color: #28a745;
      border-radius: 0.375rem;
      margin: 0 5px;
    }

    /* ----- ACCORDION STYLING ----- */
    .accordion.accordion-flush .accordion-item {
      border: none;
      border-bottom: 1px solid #444;
    }
    .accordion-button {
      background-color: #171717; /* Question background */
      color: #f1f1f1;
      font-weight: 500;
      border: none;
      transition: background-color 0.3s ease;
    }
    .accordion-button:hover,
    .accordion-button:focus {
      background-color: #171717;
      color: #28a745;
    }
    .accordion-button:not(.collapsed) {
      background-color: #171717; /* Keep same color when expanded */
      color: #28a745;
      box-shadow: none;
    }
    .accordion-body {
      background-color: #222 !important; /* #222222 for answer background */
      color: #f1f1f1 !important;
    }

    /* Highlight search matches */
    .highlight {
      background-color: #1a3d1a;
      color: #a8ffa8;
      padding: 2px 4px;
      border-radius: 2px;
    }

    /* ----- ANIMATIONS & CATEGORY HEADERS ----- */
    .faq-accordion.animate__animated {
      animation-duration: 0.8s;
      animation-delay: 0.1s;
    }
    .faq-category-header {
      font-weight: 600;
      color: #28a745;
      margin-top: 3rem;
      margin-bottom: 1rem;
      text-align: center;
    }

    /* Extra top spacing below the hero section */
    main.container.pb-5.mt-5 {
      margin-top: 4rem !important; /* ~64px down from the top */
    }

    /* Responsive tweaks */
    @media (max-width: 576px) {
      .faq-hero h1 {
        font-size: 1.75rem;
      }
      .faq-hero p {
        font-size: 1rem;
      }
      .faq-search-bar .expand-collapse-btns {
        flex-direction: column;
      }
    }
  </style>
</head>
<body class="bg-dark text-light">
  <!-- Dynamic Navbar (loaded via includePartials.js) -->
  <div id="navbarContainer"></div>

  <!-- Reading Progress Bar -->
  <div
    id="readingProgressBar"
    class="bg-success"
    style="position: fixed; top: 0; left: 0; height: 4px; width: 0%; z-index: 9999; transition: width 0.2s;"
  ></div>

  <!-- HERO SECTION with Vanta Waves -->
  <header class="faq-hero">
    <!-- Vanta Waves container -->
    <div id="vantaWavesFaq"></div>
    <!-- Overlay for contrast -->
    <div class="overlay"></div>
    <div class="container py-5 animate__animated animate__fadeInDown animate__slower">
      <h1 class="display-4 fw-bold">Frequently Asked Questions</h1>
      <p class="mb-0">
        Find quick answers to your most common questions about Markiva. Need more
        info?
        <a href="contact.html" class="text-warning text-decoration-underline"
          >Contact us</a
        >.
      </p>
    </div>
  </header>

  <!-- MAIN FAQ SECTION (with extra top spacing) -->
  <main class="container pb-5 mt-5">
    <!-- Search Bar + Expand/Collapse Buttons -->
    <div class="faq-search-bar mb-4">
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          placeholder="Search FAQs (e.g. 'markdown', 'extensions', 'plugin')"
          aria-label="FAQ Search Input"
          id="faqSearchInput"
        />
        <button
          class="btn search-btn"
          type="button"
          id="btnFaqSearch"
          aria-label="Search FAQs"
        >
          <i class="bi bi-search"></i>
        </button>
      </div>
      <!-- Expand/Collapse All Buttons -->
      <div class="expand-collapse-btns d-flex justify-content-center">
        <button id="btnExpandAll" class="btn">
          <i class="bi bi-arrows-collapse"></i> Expand All
        </button>
        <button id="btnCollapseAll" class="btn">
          <i class="bi bi-arrows-expand"></i> Collapse All
        </button>
      </div>
    </div>

    <!-- FAQ Accordion: Grouped by Categories -->

    <!-- GENERAL FAQs -->
    <h2 class="faq-category-header">General</h2>
    <div
      class="accordion faq-accordion animate__animated animate__fadeInUp"
      id="faqAccordionGeneral"
    >
      <!-- FAQ Item 1 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="genHeadingOne">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#genCollapseOne"
            aria-expanded="false"
            aria-controls="genCollapseOne"
          >
            <i class="bi bi-question-circle me-2"></i>
            What is Markiva?
          </button>
        </h2>
        <div
          id="genCollapseOne"
          class="accordion-collapse collapse"
          aria-labelledby="genHeadingOne"
          data-bs-parent="#faqAccordionGeneral"
        >
          <div class="accordion-body">
            Markiva is a powerful, open-source Markdown application with live preview,
            a sleek dark UI, and a wide range of plugins. It’s designed to help you
            write beautiful, structured content effortlessly.
          </div>
        </div>
      </div>

      <!-- FAQ Item 2 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="genHeadingTwo">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#genCollapseTwo"
            aria-expanded="false"
            aria-controls="genCollapseTwo"
          >
            <i class="bi bi-question-circle me-2"></i>
            How do I install Markiva?
          </button>
        </h2>
        <div
          id="genCollapseTwo"
          class="accordion-collapse collapse"
          aria-labelledby="genHeadingTwo"
          data-bs-parent="#faqAccordionGeneral"
        >
          <div class="accordion-body">
            Visit our
            <a href="download.html" class="text-success text-decoration-none"
              >download page</a
            >,
            where you’ll find packages for Windows, Mac, and Linux. Install by
            running the installer or using your favorite package manager.
          </div>
        </div>
      </div>
    </div>

    <!-- TECHNICAL FAQs -->
    <h2 class="faq-category-header">Technical</h2>
    <div
      class="accordion faq-accordion animate__animated animate__fadeInUp"
      id="faqAccordionTech"
    >
      <!-- FAQ Item 1 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="techHeadingOne">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#techCollapseOne"
            aria-expanded="false"
            aria-controls="techCollapseOne"
          >
            <i class="bi bi-gear me-2"></i>
            What kind of plugins does Markiva support?
          </button>
        </h2>
        <div
          id="techCollapseOne"
          class="accordion-collapse collapse"
          aria-labelledby="techHeadingOne"
          data-bs-parent="#faqAccordionTech"
        >
          <div class="accordion-body">
            Markiva supports a wide range of plugins, including syntax highlighters,
            diagram renderers (Mermaid, PlantUML), table-of-contents generators, and
            more. You can even create your own plugins in JavaScript!
          </div>
        </div>
      </div>

      <!-- FAQ Item 2 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="techHeadingTwo">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#techCollapseTwo"
            aria-expanded="false"
            aria-controls="techCollapseTwo"
          >
            <i class="bi bi-gear me-2"></i>
            Does Markiva have a command-line interface (CLI)?
          </button>
        </h2>
        <div
          id="techCollapseTwo"
          class="accordion-collapse collapse"
          aria-labelledby="techHeadingTwo"
          data-bs-parent="#faqAccordionTech"
        >
          <div class="accordion-body">
            Yes! Markiva has an optional CLI that can convert Markdown files to
            HTML/PDF, or even watch directories for changes. Check out our
            <a href="documentation.html" class="text-success text-decoration-none"
              >documentation</a
            >
            to get started with the CLI.
          </div>
        </div>
      </div>
    </div>

    <!-- EDITOR FAQs -->
    <h2 class="faq-category-header">Editor</h2>
    <div
      class="accordion faq-accordion animate__animated animate__fadeInUp"
      id="faqAccordionEditor"
    >
      <!-- FAQ Item 1 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="editorHeadingOne">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#editorCollapseOne"
            aria-expanded="false"
            aria-controls="editorCollapseOne"
          >
            <i class="bi bi-pencil-square me-2"></i>
            Does Markiva support split-screen editing?
          </button>
        </h2>
        <div
          id="editorCollapseOne"
          class="accordion-collapse collapse"
          aria-labelledby="editorHeadingOne"
          data-bs-parent="#faqAccordionEditor"
        >
          <div class="accordion-body">
            Absolutely. Markiva includes a split-view option: one side for writing
            in Markdown, and the other with a real-time rendered preview. You can
            toggle between single-pane, side-by-side, or full preview modes.
          </div>
        </div>
      </div>

      <!-- FAQ Item 2 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="editorHeadingTwo">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#editorCollapseTwo"
            aria-expanded="false"
            aria-controls="editorCollapseTwo"
          >
            <i class="bi bi-pencil-square me-2"></i>
            Can I customize the syntax highlighting theme?
          </button>
        </h2>
        <div
          id="editorCollapseTwo"
          class="accordion-collapse collapse"
          aria-labelledby="editorHeadingTwo"
          data-bs-parent="#faqAccordionEditor"
        >
          <div class="accordion-body">
            Yes. You can choose from various built-in syntax highlighting
            themes, or import your own custom CSS for code blocks. Simply update
            the editor settings in the Preferences menu.
          </div>
        </div>
      </div>
    </div>

    <!-- TROUBLESHOOTING FAQs -->
    <h2 class="faq-category-header">Troubleshooting</h2>
    <div
      class="accordion faq-accordion animate__animated animate__fadeInUp"
      id="faqAccordionTroubleshooting"
    >
      <!-- FAQ Item 1 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="troubleHeadingOne">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#troubleCollapseOne"
            aria-expanded="false"
            aria-controls="troubleCollapseOne"
          >
            <i class="bi bi-bug me-2"></i>
            Why won't Markiva render my images correctly?
          </button>
        </h2>
        <div
          id="troubleCollapseOne"
          class="accordion-collapse collapse"
          aria-labelledby="troubleHeadingOne"
          data-bs-parent="#faqAccordionTroubleshooting"
        >
          <div class="accordion-body">
            Make sure your image paths are correct and refer to existing
            files. Also, check if you’re running in a sandboxed environment or
            restricted folder. If the problem persists, ensure that the Markiva
            security settings allow external media rendering.
          </div>
        </div>
      </div>

      <!-- FAQ Item 2 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="troubleHeadingTwo">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#troubleCollapseTwo"
            aria-expanded="false"
            aria-controls="troubleCollapseTwo"
          >
            <i class="bi bi-bug me-2"></i>
            My preview pane is blank. How do I fix this?
          </button>
        </h2>
        <div
          id="troubleCollapseTwo"
          class="accordion-collapse collapse"
          aria-labelledby="troubleHeadingTwo"
          data-bs-parent="#faqAccordionTroubleshooting"
        >
          <div class="accordion-body">
            This usually happens if there’s an issue with the Markdown file’s
            frontmatter or if a plugin is conflicting with the preview. Try
            disabling all plugins, then enable them one by one to pinpoint the
            cause. Also, confirm the Markdown file doesn’t contain syntax errors
            that break rendering.
          </div>
        </div>
      </div>
    </div>

    <!-- LICENSING FAQs -->
    <h2 class="faq-category-header">Licensing</h2>
    <div
      class="accordion faq-accordion animate__animated animate__fadeInUp"
      id="faqAccordionLicensing"
    >
      <!-- FAQ Item 1 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="licHeadingOne">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#licCollapseOne"
            aria-expanded="false"
            aria-controls="licCollapseOne"
          >
            <i class="bi bi-shield-lock me-2"></i>
            Is Markiva free and open-source?
          </button>
        </h2>
        <div
          id="licCollapseOne"
          class="accordion-collapse collapse"
          aria-labelledby="licHeadingOne"
          data-bs-parent="#faqAccordionLicensing"
        >
          <div class="accordion-body">
            Absolutely. Markiva is released under an open-source license. You can find
            our source code and license details on
            <a
              href="https://github.com/skillerious/markiva"
              target="_blank"
              >GitHub</a
            >.
          </div>
        </div>
      </div>

      <!-- FAQ Item 2 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="licHeadingTwo">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#licCollapseTwo"
            aria-expanded="false"
            aria-controls="licCollapseTwo"
          >
            <i class="bi bi-shield-lock me-2"></i>
            Can I use Markiva for commercial projects?
          </button>
        </h2>
        <div
          id="licCollapseTwo"
          class="accordion-collapse collapse"
          aria-labelledby="licHeadingTwo"
          data-bs-parent="#faqAccordionLicensing"
        >
          <div class="accordion-body">
            Yes. Commercial usage is permitted under the open-source license. For
            specific details and disclaimers, be sure to read the license on our
            GitHub repo.
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Dynamic Footer (loaded via includePartials.js) -->
  <div id="footerContainer"></div>

  <!-- Bootstrap JS Bundle -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  ></script>
  <!-- Three.js (for Vanta Waves) -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"
  ></script>
  <!-- Vanta Waves -->
  <script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.waves.min.js"></script>
  <!-- Canvas Confetti (optional) -->
  <script
    src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"
  ></script>

  <!-- Include Partial Loader Script (loads navbar and footer) -->
  <script src="js/includePartials.js"></script>
  <!-- Main Site Scripts -->
  <script src="js/scripts.js?v=20250419" defer></script>

  <script>
    // Initialize Vanta Waves for the hero section
    let wavesEffectFaq = null;
    document.addEventListener("DOMContentLoaded", () => {
      if (typeof VANTA !== "undefined" && VANTA.WAVES) {
        wavesEffectFaq = VANTA.WAVES({
          el: "#vantaWavesFaq",
          backgroundAlpha: 1,
          color: 0x34816,
          gyroControls: false,
          minHeight: 200,
          minWidth: 200,
          mouseControls: false,
          scale: 1.0,
          scaleMobile: 1.0,
          shininess: 59,
          touchControls: false,
          waveHeight: 15,
          waveSpeed: 1,
          zoom: 1
        });
      }
    });
    window.addEventListener("unload", () => {
      if (wavesEffectFaq && wavesEffectFaq.destroy) {
        wavesEffectFaq.destroy();
      }
    });

    // Expand/Collapse All Functionality
    const btnExpandAll = document.getElementById("btnExpandAll");
    const btnCollapseAll = document.getElementById("btnCollapseAll");

    btnExpandAll.addEventListener("click", () => {
      const allCollapses = document.querySelectorAll(".accordion-collapse");
      allCollapses.forEach((collapse) => {
        if (!collapse.classList.contains("show")) {
          // Using Bootstrap's collapse API
          new bootstrap.Collapse(collapse, { show: true });
        }
      });
    });

    btnCollapseAll.addEventListener("click", () => {
      const allCollapses = document.querySelectorAll(".accordion-collapse.show");
      allCollapses.forEach((collapse) => {
        if (collapse.classList.contains("show")) {
          new bootstrap.Collapse(collapse, { hide: true });
        }
      });
    });

    // FAQ Search & Highlight Feature
    document.addEventListener("DOMContentLoaded", function () {
      const faqSearchInput = document.getElementById("faqSearchInput");
      const allAccordions = document.querySelectorAll(".accordion .accordion-item");

      if (faqSearchInput) {
        faqSearchInput.addEventListener("input", () => {
          const query = faqSearchInput.value.toLowerCase();
          // Clear any existing highlights before new search
          clearHighlights();

          allAccordions.forEach((item) => {
            const btn = item.querySelector(".accordion-button");
            const body = item.querySelector(".accordion-body");
            const textContent = (btn.textContent + " " + body.textContent).toLowerCase();

            // Show or hide the accordion item
            if (textContent.includes(query)) {
              item.style.display = "block";
              // Highlight matches in the button text & body text
              highlightText(btn, query);
              highlightText(body, query);
            } else {
              item.style.display = "none";
            }
          });
        });
      }

      // Simple highlight function
      function highlightText(element, query) {
        if (!query) return;
        const innerHTML = element.innerHTML;
        const regex = new RegExp(query, "gi");
        element.innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="highlight">${match}</span>`;
        });
      }

      // Clears highlights
      function clearHighlights() {
        allAccordions.forEach((item) => {
          const btn = item.querySelector(".accordion-button");
          const body = item.querySelector(".accordion-body");

          // revert to original text by removing highlight spans
          if (btn) btn.innerHTML = btn.textContent;
          if (body) body.innerHTML = body.textContent;
        });
      }
    });
  </script>
</body>
</html>
